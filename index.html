<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Crosslet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- Le styles -->
    <link href="http://netdna.bootstrapcdn.com/bootswatch/2.3.2/amelia/bootstrap.min.css" rel="stylesheet">

    <link href="css/styles.css" rel="stylesheet">
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.4.5/leaflet.css" />
    <link rel="stylesheet" href="css/crosslet.css" />

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png">
      <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png">
                    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png">
                                   <link rel="shortcut icon" href="assets/ico/favicon.png">

  </head>
   <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse"><span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></a> <a class="brand" href="/">Urban Canopy Dashboard - Newark <small>Alpha</small></a>

          <div class="nav-collapse collapse">
            <ul class="nav">
              <!--<li class="active">
                            <a href="/">Home</a>
                          </li>-->

              <li>
                <a href="/about">About</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="container">
          <div id="map"></div>
    </div>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
<script src="http://cdn.leafletjs.com/leaflet-0.4.5/leaflet.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.4.2/underscore-min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/d3/3.0.1/d3.v3.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/backbone.js/0.9.2/backbone-min.js"></script>
<script type="text/javascript" src="js/crosslet.js"></script>
<script type="text/javascript">
var axisf=function(){ return function(d){return Math.round(d*10)/10+"%";}};
var yearsf =function(){ return Math.round};

var config = {
    map: {
        leaflet: {
            key: "fe623ce312234f8f9333bbee72d4a176",
            styleId: 64657
        },
        view: {
            center: [
                40.735657,
                -74.1723667
            ],
            zoom: 12
        },
        geo: {
            url: "examples/newark/newark.topojson",
            name_field: "id",
            id_field: "id",
            topo_object: "layer1"
        }
    },
    data: {
        version: "1.0",
        id_field: "id"
    },
    dimensions: {
        existing: {
            title: "Existing Tree Canopy",
            data: {
                colorscale: d3.scale.linear().domain([
                    1,
                    10,
                    20
                ]).range([
                    "red",
                    "yellow",
                    "green"
                ]).interpolate(d3.cie.interpolateLab),
                dataSet: "examples/newark/tc_e_p.csv",
                field: "y_2012",
                
            },
            format: {
                short: function(){
                    returnMath.round
                },
                input: function(){
                    returnMath.round
                },
                
            }
        },
        possible: {
            title: "Possible Tree Canopy",
            data: {
                colorscale: d3.scale.linear().domain([
                    1,
                    10,
                    20
                ]).range([
                    "red",
                    "yellow",
                    "green"
                ]).interpolate(d3.cie.interpolateLab),
                dataSet: "examples/newark/tc_p_p.csv",
                field: "y_2012",
                
            },
            format: {
                short: function(){
                    returnMath.round
                },
                input: function(){
                    returnMath.round
                },
                
            }
        },
        possibleImp: {
            title: "Possible Tree Canopy - Currently Impervious",
            data: {
                colorscale: d3.scale.linear().domain([
                    1,
                    10,
                    20
                ]).range([
                    "red",
                    "yellow",
                    "green"
                ]).interpolate(d3.cie.interpolateLab),
                dataSet: "examples/newark/tc_pi_p.csv",
                field: "y_2012",
                
            },
            format: {
                short: function(){
                    returnMath.round
                },
                input: function(){
                    returnMath.round
                },
                
            }
          }
        },
        defaults: {
            opacity: 0.9,
            order: [
                "existing",
                "possible",
                "possibleImp"
            ],
            active: "existing"
        }
};

console.log(config);
new crosslet.MapView($("#map"),config);
</script>

    </body>

</html>
